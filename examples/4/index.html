<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="../css/examples.css">
  <script src="../js/handlebars.js"></script>
</head>
<body>
  
  <h1>Indie Game Developers</h1>
  
  <div id="developers" class="row"></div>
  
  <script id="template" type="text/x-handlebars-template">
    {{#sort developers}}
    {{#each this}}
    <div class="col1-3">
      <div class="developer module">
        <h2>{{firstname}} {{lastname}}</h2>
        <p><strong>Twitter:</strong> <a href="https://twitter.com/{{twitter}}">{{twitter}}</a></p>
        {{#if game}}
        <p><strong>Game:</strong> <a href="{{game.link}}">{{game.name}}</a></p>
        {{/if}}
      </div>
    </div>
    {{/each}}
    {{/sort}}
  </script>
  
  
  
  <script>
  
  Handlebars.registerHelper('sort', function(items, options) {
    return options.fn(
      items.sort(function(a, b){
        return a.lastname > b.lastname
      })
    );
  });
  
  var templateSource = document.getElementById('template').innerHTML;
  
  var template = Handlebars.compile(templateSource);
  
  var resultsPlaceholder = document.getElementById('developers');
  
  var context = {
    developers : [
      {
        "firstname": "Lucas",
        "lastname": "Pope",
        "twitter": "@dukope",
        "game": { 
          "name": "Papers Please",
          "link": "http://papersplea.se/"
        }
      },
      {
        "firstname": "Mike",
        "lastname": "Bithell",
        "twitter": "@mikeBithell"
      },
      {
        "firstname": "Erin",
        "lastname": "Robinson",
        "twitter": "@livelyivy"
      },
      {
        "firstname": "Christine",
        "lastname": "Love",
        "twitter": "@christinelove"
      },
      {
        "firstname": "Liselore",
        "lastname": "Goedhart",
        "twitter": "@lizzywanders"
      },
      {
        "firstname": "Sos",
        "lastname": "Sosowski",
        "twitter": "@Sosowski"
      },
      {
        "firstname": "Lucy",
        "lastname": "Morris",
        "twitter": "@lucyamorris"
      }
    ]
  };
  
  resultsPlaceholder.innerHTML = template(context);
  
  
  
  </script>
</body>
</html>
